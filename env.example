# WhatsApp Notification Service - Enid Store
# Archivo de ejemplo de variables de entorno
# Copiar este archivo a .env y configurar con tus valores reales

# =============================================================================
# CONFIGURACIÓN DE DJANGO
# =============================================================================
SECRET_KEY=django-insecure-whatsapp-notification-service-key-change-in-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# CONFIGURACIÓN DE BASE DE DATOS
# =============================================================================
DB_NAME=whatsapp_service
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=postgres
DB_PORT=5432

# =============================================================================
# CONFIGURACIÓN DE WHATSAPP BUSINESS API
# =============================================================================
# URL base de la API de WhatsApp (no cambiar)
WHATSAPP_API_URL=https://graph.facebook.com/v18.0

# ID del número de teléfono de WhatsApp Business
# Obtener desde Meta for Developers > WhatsApp > Getting Started
WHATSAPP_PHONE_NUMBER_ID=123456789012345

# Token de acceso permanente
# Obtener desde Meta for Developers > WhatsApp > Getting Started
WHATSAPP_ACCESS_TOKEN=EAABwzLixnjYBO...

# Token de verificación para webhooks
# Crear un token personalizado para verificar webhooks
WHATSAPP_VERIFY_TOKEN=enid-store-whatsapp-verify-token-2024

# =============================================================================
# CONFIGURACIÓN DEL SERVICIO ENID STORE
# =============================================================================
# URL del servicio principal de Enid Store
ENID_STORE_URL=http://localhost:8000

# API Key para autenticación con Enid Store
# Configurar en el servicio principal
ENID_STORE_API_KEY=enid-store-api-key-2024

# =============================================================================
# CONFIGURACIÓN DE OAUTH
# =============================================================================
# URL del servicio de OAuth
OAUTH_SERVICE_URL=http://service-oauth:8087

# =============================================================================
# CONFIGURACIÓN DE CIRCUIT BREAKER
# =============================================================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# =============================================================================
# CONFIGURACIÓN DE LOGGING
# =============================================================================
# Nivel de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Directorio para archivos de log
LOG_DIR=logs

# =============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# =============================================================================
# Configuración de CORS
CORS_ALLOW_ALL_ORIGINS=True
CORS_ALLOW_CREDENTIALS=True

# Configuración de JWT
JWT_SECRET_KEY=whatsapp-service-jwt-secret-key-2024
JWT_ACCESS_TOKEN_LIFETIME=5
JWT_REFRESH_TOKEN_LIFETIME=1

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO
# =============================================================================
# Puerto del servidor de desarrollo
DEV_SERVER_PORT=8001

# Configuración de Docker
DOCKER_IMAGE_NAME=enid-store-whatsapp-service
DOCKER_CONTAINER_NAME=whatsapp_service_web

# =============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN
# =============================================================================
# Configuración de Gunicorn
GUNICORN_WORKERS=4
GUNICORN_BIND=0.0.0.0:8000
GUNICORN_TIMEOUT=120

# Configuración de Nginx (opcional)
NGINX_CONTAINER_NAME=whatsapp_service_nginx
NGINX_PORT=8002

# =============================================================================
# CONFIGURACIÓN DE MONITOREO
# =============================================================================
# Habilitar métricas de salud
HEALTH_CHECK_ENABLED=True

# Configuración de alertas
ALERT_EMAIL=admin@enidstore.com
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/...

# =============================================================================
# CONFIGURACIÓN DE RATE LIMITING
# =============================================================================
# Límite de mensajes por minuto por número de teléfono
RATE_LIMIT_MESSAGES_PER_MINUTE=10

# Límite de mensajes por hora por número de teléfono
RATE_LIMIT_MESSAGES_PER_HOUR=100

# =============================================================================
# CONFIGURACIÓN DE RETRY
# =============================================================================
# Número máximo de reintentos para mensajes fallidos
MAX_RETRY_ATTEMPTS=3

# Tiempo de espera entre reintentos (en segundos)
RETRY_DELAY_SECONDS=60

# =============================================================================
# CONFIGURACIÓN DE PLANTILLAS
# =============================================================================
# Idioma por defecto para plantillas
DEFAULT_TEMPLATE_LANGUAGE=es

# Categorías de plantillas disponibles
TEMPLATE_CATEGORIES=order_confirmation,order_status_update,order_delivered,order_cancelled,payment_confirmed,shipping_update,welcome_message

# =============================================================================
# CONFIGURACIÓN DE WEBHOOKS
# =============================================================================
# URL pública del webhook (configurar en WhatsApp Business API)
WEBHOOK_PUBLIC_URL=https://tu-dominio.com/api/whatsapp/webhook/

# Verificar firma de webhooks (recomendado para producción)
VERIFY_WEBHOOK_SIGNATURE=True

# =============================================================================
# CONFIGURACIÓN DE NOTIFICACIONES
# =============================================================================
# Habilitar notificaciones automáticas
AUTO_NOTIFICATIONS_ENABLED=True

# Notificar solo en horario comercial (opcional)
BUSINESS_HOURS_ONLY=False
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=18:00
BUSINESS_HOURS_TIMEZONE=America/Mexico_City

# =============================================================================
# CONFIGURACIÓN DE BACKUP
# =============================================================================
# Habilitar backup automático de plantillas
BACKUP_TEMPLATES_ENABLED=True

# Frecuencia de backup (diario, semanal, mensual)
BACKUP_FREQUENCY=daily

# Directorio de backup
BACKUP_DIR=backups

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
# 1. NUNCA committear este archivo .env al repositorio
# 2. Cambiar todas las claves secretas en producción
# 3. Configurar HTTPS para webhooks en producción
# 4. Monitorear logs y métricas regularmente
# 5. Configurar backup de base de datos
# 6. Revisar configuración de seguridad regularmente 